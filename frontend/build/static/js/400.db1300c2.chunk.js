"use strict";(self.webpackChunkmy_blog=self.webpackChunkmy_blog||[]).push([[400,50],{7400:function(e,n,s){s.r(n);var t=s(4165),a=s(5861),r=s(9439),o=s(2791),i=(s(7050),s(8595),s(184));n.default=function(){var e=(0,o.useState)(""),n=(0,r.Z)(e,2),s=n[0],l=n[1],c=(0,o.useState)(""),u=(0,r.Z)(c,2),d=u[0],m=u[1],p=(0,o.useState)(!1),h=(0,r.Z)(p,2),f=h[0],x=h[1],w=(0,o.useState)(!0),g=(0,r.Z)(w,2),j=g[0],b=g[1];function v(){return(v=(0,a.Z)((0,t.Z)().mark((function e(n){var a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,fetch("/api/login",{method:"POST",body:JSON.stringify({username:s,password:d}),headers:{"Content-type":"application/json; charset=UTF-8","Access-Control-Allow-Origin":"*"},credentials:"include"});case 3:(a=e.sent).ok&&(x(!1),b(!0),window.location.reload(),window.location.href="/home"),401===a.status&&x(!0),400===a.status&&b(!1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,i.jsx)("main",{className:"form-signin w-100 m-auto",children:(0,i.jsxs)("form",{action:"/",method:"post",onSubmit:function(e){return v.apply(this,arguments)},children:[(0,i.jsx)("h2",{children:"Login!"}),(0,i.jsxs)("div",{className:"form-floating",children:[(0,i.jsx)("input",{name:"username",type:"text",className:"form-control top",id:"username",placeholder:"Username",value:s,onChange:function(e){return l(e.target.value)},required:!0,autoFocus:!0}),(0,i.jsx)("label",{htmlFor:"username",children:"Username"})]}),(0,i.jsxs)("div",{className:"form-floating",children:[(0,i.jsx)("input",{name:"password",type:"password",className:"form-control bottom mb-4",id:"password",placeholder:"Password",value:d,onChange:function(e){return m(e.target.value)},required:!0}),(0,i.jsx)("label",{htmlFor:"password",children:"Password"})]}),(0,i.jsx)("button",{className:"btn btn-dark w-100 py-2",type:"submit",children:"Login"}),(0,i.jsx)("div",{className:"error wrong-pass ".concat(!f&&"d-none"),children:"Wrong password"}),(0,i.jsx)("div",{className:" error user-exist ".concat(j&&"d-none"),children:"Username doesn't exist"}),(0,i.jsx)("div",{class:"text-center text-lg-start mt-4 pt-2 d-flex justify-content-center",children:(0,i.jsxs)("p",{class:"small fw-bold pt-1 mb-0",children:["Don't have an account?"," ",(0,i.jsx)("a",{href:"/sign-up",class:"link-danger ms-2",children:"Sign Up"})]})})]})})}},7050:function(e,n,s){s.r(n),n.default={}}}]);
//# sourceMappingURL=400.db1300c2.chunk.js.map