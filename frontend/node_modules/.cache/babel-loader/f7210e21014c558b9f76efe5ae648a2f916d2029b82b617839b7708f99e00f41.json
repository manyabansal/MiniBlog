{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/maany/OneDrive/Desktop/myBlog/my-blog/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/maany/OneDrive/Desktop/myBlog/my-blog/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _objectSpread from\"C:/Users/maany/OneDrive/Desktop/myBlog/my-blog/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React from\"react\";import TagRow from\"./tag-row\";import\"./css/masonry-post.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function MasonryPost(_ref){var post=_ref.post,tagsOnTop=_ref.tagsOnTop,styles=_ref.styles;var windowWidth=window.innerWidth;var imageBackground={backgroundImage:post.image&&\"url(\\\"\".concat(require(\"../../rest/uploads/\".concat(post.image.slice(8))),\"\\\")\")};var style=windowWidth>900?_objectSpread(_objectSpread({},imageBackground),post.style):_objectSpread(_objectSpread({},imageBackground),styles);function addClick(){return _addClick.apply(this,arguments);}function _addClick(){_addClick=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"/api/post/\".concat(post._id,\"?set=click\"),{method:\"PATCH\",credentials:\"include\"});case 2:case\"end\":return _context.stop();}},_callee);}));return _addClick.apply(this,arguments);}return/*#__PURE__*/_jsx(\"a\",{className:\"masonry-post overlay\",style:style,onClick:addClick,href:\"/post/\".concat(post._id),children:/*#__PURE__*/_jsxs(\"div\",{className:\"image-text\",style:{justifyContent:\"space-between\"},children:[/*#__PURE__*/_jsx(TagRow,{tags:post.categories}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"image-title\",children:post.title}),/*#__PURE__*/_jsx(\"span\",{className:\"image-date\",children:post.date})]})]})});}","map":{"version":3,"names":["React","TagRow","jsx","_jsx","jsxs","_jsxs","MasonryPost","_ref","post","tagsOnTop","styles","windowWidth","window","innerWidth","imageBackground","backgroundImage","image","concat","require","slice","style","_objectSpread","addClick","_addClick","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","fetch","_id","method","credentials","stop","className","onClick","href","children","justifyContent","tags","categories","title","date"],"sources":["C:/Users/maany/OneDrive/Desktop/myBlog/my-blog/src/components/masonry-post.js"],"sourcesContent":["import React from \"react\";\r\nimport TagRow from \"./tag-row\";\r\nimport \"./css/masonry-post.css\";\r\nexport default function MasonryPost({ post, tagsOnTop, styles }) {\r\n  const windowWidth = window.innerWidth;\r\n  const imageBackground = {\r\n    backgroundImage: post.image && `url(\"${require(`../../rest/uploads/${post.image.slice(\r\n      8\r\n    )}`)}\")`,\r\n  };\r\n\r\n  const style =\r\n    windowWidth > 900\r\n      ? { ...imageBackground, ...post.style }\r\n      : { ...imageBackground, ...styles };\r\n\r\n  async function addClick() {\r\n    await fetch(`/api/post/${post._id}?set=click`, {\r\n      method: \"PATCH\",\r\n      credentials: \"include\",\r\n    });\r\n  }\r\n  return (\r\n    <a\r\n      className=\"masonry-post overlay\"\r\n      style={style}\r\n      onClick={addClick}\r\n      href={`/post/${post._id}`}\r\n    >\r\n      <div className=\"image-text\" style={{ justifyContent: \"space-between\" }}>\r\n        <TagRow tags={post.categories} />\r\n        <div>\r\n          <h2 className=\"image-title\">{post.title}</h2>\r\n          <span className=\"image-date\">{post.date}</span>\r\n        </div>\r\n      </div>\r\n    </a>\r\n  );\r\n}\r\n"],"mappings":"2ZAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,MAAM,KAAM,WAAW,CAC9B,MAAO,wBAAwB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAChC,cAAe,SAAS,CAAAC,WAAWA,CAAAC,IAAA,CAA8B,IAA3B,CAAAC,IAAI,CAAAD,IAAA,CAAJC,IAAI,CAAEC,SAAS,CAAAF,IAAA,CAATE,SAAS,CAAEC,MAAM,CAAAH,IAAA,CAANG,MAAM,CAC3D,GAAM,CAAAC,WAAW,CAAGC,MAAM,CAACC,UAAU,CACrC,GAAM,CAAAC,eAAe,CAAG,CACtBC,eAAe,CAAEP,IAAI,CAACQ,KAAK,WAAAC,MAAA,CAAYC,OAAO,uBAAAD,MAAA,CAAuBT,IAAI,CAACQ,KAAK,CAACG,KAAK,CACnF,CACF,CAAC,CAAE,CAAC,OACN,CAAC,CAED,GAAM,CAAAC,KAAK,CACTT,WAAW,CAAG,GAAG,CAAAU,aAAA,CAAAA,aAAA,IACRP,eAAe,EAAKN,IAAI,CAACY,KAAK,EAAAC,aAAA,CAAAA,aAAA,IAC9BP,eAAe,EAAKJ,MAAM,CAAE,CAAC,QAEzB,CAAAY,QAAQA,CAAA,SAAAC,SAAA,CAAAC,KAAA,MAAAC,SAAA,YAAAF,UAAA,EAAAA,SAAA,CAAAG,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAvB,SAAAC,QAAA,SAAAF,mBAAA,GAAAG,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SACQ,CAAAC,KAAK,cAAAlB,MAAA,CAAcT,IAAI,CAAC4B,GAAG,eAAc,CAC7CC,MAAM,CAAE,OAAO,CACfC,WAAW,CAAE,SACf,CAAC,CAAC,yBAAAN,QAAA,CAAAO,IAAA,MAAAV,OAAA,GACH,UAAAN,SAAA,CAAAC,KAAA,MAAAC,SAAA,GACD,mBACEtB,IAAA,MACEqC,SAAS,CAAC,sBAAsB,CAChCpB,KAAK,CAAEA,KAAM,CACbqB,OAAO,CAAEnB,QAAS,CAClBoB,IAAI,UAAAzB,MAAA,CAAWT,IAAI,CAAC4B,GAAG,CAAG,CAAAO,QAAA,cAE1BtC,KAAA,QAAKmC,SAAS,CAAC,YAAY,CAACpB,KAAK,CAAE,CAAEwB,cAAc,CAAE,eAAgB,CAAE,CAAAD,QAAA,eACrExC,IAAA,CAACF,MAAM,EAAC4C,IAAI,CAAErC,IAAI,CAACsC,UAAW,CAAE,CAAC,cACjCzC,KAAA,QAAAsC,QAAA,eACExC,IAAA,OAAIqC,SAAS,CAAC,aAAa,CAAAG,QAAA,CAAEnC,IAAI,CAACuC,KAAK,CAAK,CAAC,cAC7C5C,IAAA,SAAMqC,SAAS,CAAC,YAAY,CAAAG,QAAA,CAAEnC,IAAI,CAACwC,IAAI,CAAO,CAAC,EAC5C,CAAC,EACH,CAAC,CACL,CAAC,CAER"},"metadata":{},"sourceType":"module","externalDependencies":[]}