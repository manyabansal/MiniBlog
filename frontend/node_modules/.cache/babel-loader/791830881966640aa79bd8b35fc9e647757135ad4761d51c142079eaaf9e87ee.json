{"ast":null,"code":"import _slicedToArray from\"C:/Users/maany/OneDrive/Desktop/myBlog/my-blog/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{useParams}from'react-router';import\"bootstrap/dist/css/bootstrap.css\";import UserPost from'../components/user-post';import'./css/user-posts.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function UserPosts(){var _useParams=useParams(),id=_useParams.id;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),posts=_useState2[0],setPosts=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),userInfo=_useState4[0],setUserInfo=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),author=_useState6[0],setAuthor=_useState6[1];useEffect(function(){fetch(\"/api/posts/\".concat(id),{credentials:\"include\"}).then(function(res){res.json().then(function(posts){setPosts(posts);});});fetch(\"/api/profile\",{credentials:\"include\"}).then(function(res){res.json().then(function(userInfo){setUserInfo(userInfo);console.log(userInfo.username);});});fetch(\"/api/user/\".concat(id)).then(function(response){response.json().then(function(authorInfo){setAuthor(authorInfo);});});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"heading\",children:id===userInfo.id?'My Posts':\"Posts by \".concat(author.username)}),/*#__PURE__*/_jsx(\"hr\",{})]}),posts.map(function(post,index){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(UserPost,{post:post},index)});})]});}export default UserPosts;","map":{"version":3,"names":["React","useEffect","useState","useParams","UserPost","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","UserPosts","_useParams","id","_useState","_useState2","_slicedToArray","posts","setPosts","_useState3","_useState4","userInfo","setUserInfo","_useState5","_useState6","author","setAuthor","fetch","concat","credentials","then","res","json","console","log","username","response","authorInfo","className","children","map","post","index"],"sources":["C:/Users/maany/OneDrive/Desktop/myBlog/my-blog/frontend/src/pages/UserPosts.js"],"sourcesContent":["import React,  {useEffect, useState} from 'react';\r\nimport { useParams } from 'react-router';\r\nimport \"bootstrap/dist/css/bootstrap.css\";\r\nimport UserPost from '../components/user-post';\r\nimport './css/user-posts.css'\r\nfunction UserPosts(){\r\n    const {id} = useParams();\r\n    const [posts, setPosts]=useState([]);\r\n    const [userInfo, setUserInfo] = useState({});\r\n    const [author, setAuthor]= useState({});\r\n  useEffect(() => {\r\n   \r\n    fetch(`/api/posts/${id}`, {\r\n      credentials: \"include\",\r\n    }).then((res) => {\r\n      res.json().then((posts) => {\r\n      setPosts(posts);\r\n      });\r\n    });\r\n\r\n    fetch(\"/api/profile\", {\r\n      credentials: \"include\",\r\n    }).then((res) => {\r\n      res.json().then((userInfo) => {\r\n      setUserInfo(userInfo);\r\n     console.log(userInfo.username)\r\n      });\r\n    })\r\n\r\n    fetch(`/api/user/${id}`).then(response =>{\r\n      response.json().then(authorInfo=>{\r\n        setAuthor(authorInfo);\r\n      })\r\n    });\r\n  }, []);\r\n\r\n    return (\r\n   <div className='container'>\r\n     <div>\r\n      <h1 className='heading'>{id===userInfo.id? 'My Posts' : `Posts by ${author.username}`}</h1>\r\n      <hr></hr>\r\n     </div>\r\n     {posts.map((post, index)=>{\r\n        return(\r\n          <>\r\n         <UserPost key={index} post={post} />\r\n         </>\r\n        );\r\n     })}\r\n   </div>\r\n    );\r\n}\r\n\r\nexport default UserPosts;"],"mappings":"6IAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAO,OAAO,CACjD,OAASC,SAAS,KAAQ,cAAc,CACxC,MAAO,kCAAkC,CACzC,MAAO,CAAAC,QAAQ,KAAM,yBAAyB,CAC9C,MAAO,sBAAsB,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAC7B,QAAS,CAAAC,SAASA,CAAA,CAAE,CAChB,IAAAC,UAAA,CAAaT,SAAS,CAAC,CAAC,CAAjBU,EAAE,CAAAD,UAAA,CAAFC,EAAE,CACT,IAAAC,SAAA,CAAwBZ,QAAQ,CAAC,EAAE,CAAC,CAAAa,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA7BG,KAAK,CAAAF,UAAA,IAAEG,QAAQ,CAAAH,UAAA,IACtB,IAAAI,UAAA,CAAgCjB,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAAkB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAArCE,QAAQ,CAAAD,UAAA,IAAEE,WAAW,CAAAF,UAAA,IAC5B,IAAAG,UAAA,CAA2BrB,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAAsB,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAAhCE,MAAM,CAAAD,UAAA,IAAEE,SAAS,CAAAF,UAAA,IAC1BvB,SAAS,CAAC,UAAM,CAEd0B,KAAK,eAAAC,MAAA,CAAef,EAAE,EAAI,CACxBgB,WAAW,CAAE,SACf,CAAC,CAAC,CAACC,IAAI,CAAC,SAACC,GAAG,CAAK,CACfA,GAAG,CAACC,IAAI,CAAC,CAAC,CAACF,IAAI,CAAC,SAACb,KAAK,CAAK,CAC3BC,QAAQ,CAACD,KAAK,CAAC,CACf,CAAC,CAAC,CACJ,CAAC,CAAC,CAEFU,KAAK,CAAC,cAAc,CAAE,CACpBE,WAAW,CAAE,SACf,CAAC,CAAC,CAACC,IAAI,CAAC,SAACC,GAAG,CAAK,CACfA,GAAG,CAACC,IAAI,CAAC,CAAC,CAACF,IAAI,CAAC,SAACT,QAAQ,CAAK,CAC9BC,WAAW,CAACD,QAAQ,CAAC,CACtBY,OAAO,CAACC,GAAG,CAACb,QAAQ,CAACc,QAAQ,CAAC,CAC7B,CAAC,CAAC,CACJ,CAAC,CAAC,CAEFR,KAAK,cAAAC,MAAA,CAAcf,EAAE,CAAE,CAAC,CAACiB,IAAI,CAAC,SAAAM,QAAQ,CAAG,CACvCA,QAAQ,CAACJ,IAAI,CAAC,CAAC,CAACF,IAAI,CAAC,SAAAO,UAAU,CAAE,CAC/BX,SAAS,CAACW,UAAU,CAAC,CACvB,CAAC,CAAC,CACJ,CAAC,CAAC,CACJ,CAAC,CAAE,EAAE,CAAC,CAEJ,mBACD7B,KAAA,QAAK8B,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB/B,KAAA,QAAA+B,QAAA,eACCjC,IAAA,OAAIgC,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAE1B,EAAE,GAAGQ,QAAQ,CAACR,EAAE,CAAE,UAAU,aAAAe,MAAA,CAAeH,MAAM,CAACU,QAAQ,CAAE,CAAK,CAAC,cAC3F7B,IAAA,QAAQ,CAAC,EACL,CAAC,CACLW,KAAK,CAACuB,GAAG,CAAC,SAACC,IAAI,CAAEC,KAAK,CAAG,CACvB,mBACEpC,IAAA,CAAAI,SAAA,EAAA6B,QAAA,cACDjC,IAAA,CAACF,QAAQ,EAAaqC,IAAI,CAAEA,IAAK,EAAlBC,KAAoB,CAAC,CAClC,CAAC,CAEP,CAAC,CAAC,EACC,CAAC,CAET,CAEA,cAAe,CAAA/B,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}